<div class="menu-container">
  <div class="aside">
    <div class="group-list">
      <li *ngFor="let group of value" (click)="onGroupClick(group)">
        {{ group.groupName }}
      </li>
    </div>
  </div>

  <ng-container *ngTemplateOutlet="
      group.subGroups ? subGroup : item
      context: { $implicit: group }
      ">
  </ng-container>

  <div class="cart-container">
    <div class="cart-title">加入晚餐清單</div>
    <div *ngFor="let group of cart" class="cart-list">
      <div class="cart-head">{{ group[0] }}</div>
      <li *ngFor="let coding of group[1]" (click)="onCartClick(coding)">
        <i class="pi pi-minus" style="color: #1C1D1C;border-radius: var(--border-radius-rounded, 20px);
            background: var(--error-container, #F8D7D6);"></i>{{ coding.display }}
      </li>
    </div>
  </div>

  <ng-template #subGroup let-group>
    <div class="aside">
      <div class="subGroup-list">
        <div *ngFor="let subGroup of group.subGroups">
          <input type="checkbox" [(ngModel)]="subGroup.showItems" (change)="onSubGroupChange(subGroup)" />
          {{ subGroup.subGroupName }}
        </div>
      </div>
    </div>
    <div class="item-container">
      <div *ngFor="let subGroup of subGroups" class="item-list">
        <div class="item-title">{{ group.groupName }} > {{ subGroup.subGroupName }}</div>
        <div class="item-grid">
          <button *ngFor="let item of subGroup.items" (click)="onItemClick(item, subGroup)">
            <i class="pi pi-plus" style="color: #1C1D1C;border-radius: var(--border-radius-rounded, 20px);
              background: var(--primary-container, #CCE7E0);"></i>
            {{ item.display }}
          </button>
        </div>
      </div>
    </div>
  </ng-template>

  <ng-template #item let-group>
    <div class="item-container">
      <div class="item-title">{{ group.groupName }}</div>
      <div class="item-grid">
        <button *ngFor="let item of group.items" (click)="onItemClick(item)">
          <i class="pi pi-plus" style="color: #1C1D1C;border-radius: var(--border-radius-rounded, 20px);
            background: var(--primary-container, #CCE7E0);"></i>
          {{ item.display }}
        </button>
      </div>
    </div>
  </ng-template>
</div>

<div class="okButton">
  <!-- <input type="text" placeholder="搜尋">
    <button>搜尋</button> -->
  <button (click)="onOkClick()">OK</button>
</div>
